<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=ASCII-8BIT" http-equiv="Content-Type">

<title>module Methadone::CLILogging - Methadone - Power Up your Command Line Apps</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="module">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/methadone/cli_logging.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    
    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-included">::included</a>
    
    <li><a href="#method-i-change_logger">#change_logger</a>
    
    <li><a href="#method-i-debug">#debug</a>
    
    <li><a href="#method-i-error">#error</a>
    
    <li><a href="#method-i-fatal">#fatal</a>
    
    <li><a href="#method-i-info">#info</a>
    
    <li><a href="#method-i-logger">#logger</a>
    
    <li><a href="#method-i-logger-3D">#logger=</a>
    
    <li><a href="#method-i-use_log_level_option">#use_log_level_option</a>
    
    <li><a href="#method-i-warn">#warn</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Methadone.html">Methadone</a>
  
    <li><a href="../Methadone/CLI.html">Methadone::CLI</a>
  
    <li><a href="../Methadone/CLILogger.html">Methadone::CLILogger</a>
  
    <li><a href="../Methadone/CLILogging.html">Methadone::CLILogging</a>
  
    <li><a href="../Methadone/Cucumber.html">Methadone::Cucumber</a>
  
    <li><a href="../Methadone/Error.html">Methadone::Error</a>
  
    <li><a href="../Methadone/ExecutionStrategy.html">Methadone::ExecutionStrategy</a>
  
    <li><a href="../Methadone/ExecutionStrategy/Base.html">Methadone::ExecutionStrategy::Base</a>
  
    <li><a href="../Methadone/ExecutionStrategy/JVM.html">Methadone::ExecutionStrategy::JVM</a>
  
    <li><a href="../Methadone/ExecutionStrategy/MRI.html">Methadone::ExecutionStrategy::MRI</a>
  
    <li><a href="../Methadone/ExecutionStrategy/Open_3.html">Methadone::ExecutionStrategy::Open_3</a>
  
    <li><a href="../Methadone/ExecutionStrategy/Open_4.html">Methadone::ExecutionStrategy::Open_4</a>
  
    <li><a href="../Methadone/ExecutionStrategy/RBXOpen_4.html">Methadone::ExecutionStrategy::RBXOpen_4</a>
  
    <li><a href="../Methadone/ExitNow.html">Methadone::ExitNow</a>
  
    <li><a href="../Methadone/FailedCommandError.html">Methadone::FailedCommandError</a>
  
    <li><a href="../Methadone/Main.html">Methadone::Main</a>
  
    <li><a href="../Methadone/OptionParserProxy.html">Methadone::OptionParserProxy</a>
  
    <li><a href="../Methadone/ProcessStatus.html">Methadone::ProcessStatus</a>
  
    <li><a href="../Methadone/SH.html">Methadone::SH</a>
  
    <li><a href="../Object.html">Object</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="module">module Methadone::CLILogging</h1>

  <div id="description" class="description">
    
<p>Provides easier access to a shared <a
href="CLILogger.html">Methadone::CLILogger</a> instance.</p>

<p>Include this module into your class, and <a
href="CLILogging.html#method-i-logger">logger</a> provides access to a
shared logger. This is handy if you want all of your clases to have access
to the same logger, but  don't want to (or aren't able to) pass it around
to each class.</p>

<p>This also provides methods for direct logging without going through the <a
href="CLILogging.html#method-i-logger">logger</a></p>

<h3 id="label-Example">Example</h3>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyClass</span>
  <span class="ruby-identifier">include</span> <span class="ruby-constant">Methadone</span><span class="ruby-operator">::</span><span class="ruby-constant">CLILogger</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">doit</span>
    <span class="ruby-identifier">debug</span>(<span class="ruby-string">&quot;About to doit!&quot;</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">results</span>
      <span class="ruby-identifier">info</span>(<span class="ruby-string">&quot;We did it!&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">error</span>(<span class="ruby-string">&quot;Something went wrong&quot;</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">debug</span>(<span class="ruby-string">&quot;Done doing it&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Note that every class that mixes this in shares the *same logger instance*,
so if you call <a
href="CLILogging.html#method-i-change_logger">change_logger</a>, this will
change the logger for all classes that mix this in.  This is likely what
you want.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="LOG_LEVELS">LOG_LEVELS
        
        <dd class="description">
        
      
      </dl>
    </section>
    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-included" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">included</span><span
            class="method-args">(k)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="included-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">included</span>(<span class="ruby-identifier">k</span>)
  <span class="ruby-identifier">k</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- included-source -->
          
        </div>

        

        
      </div><!-- included-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-change_logger" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">change_logger</span><span
            class="method-args">(new_logger)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Change the global logger that includers will use.  Useful if you don't want
the default configured logger.  Note that the <code>change_logger</code>
version is preferred because Ruby will often parse <code>logger =
Logger.new</code> as the declaration of, and assignment to, of a local
variable.  You'd need to do <code>self.logger=Logger.new</code> to be sure.
This method is a bit easier.</p>
<dl class="rdoc-list note-list"><dt><code>new_logger</code>
<dd>
<p>the new logger.  May not be nil and should be a logger of some kind</p>
</dd></dl>
          

          
          <div class="method-source-code" id="change_logger-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">change_logger</span>(<span class="ruby-identifier">new_logger</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,<span class="ruby-string">&quot;Logger may not be nil&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_logger</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">@@logger</span> = <span class="ruby-identifier">new_logger</span>
  <span class="ruby-identifier">@@logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-ivar">@log_level</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@log_level</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- change_logger-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="CLILogging.html#method-i-logger-3D">logger=</a>
        </div>
        

        
      </div><!-- change_logger-method -->

    
      <div id="method-i-debug" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">debug</span><span
            class="method-args">(progname = nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>pass-through to <code>logger.debug(progname,&amp;block)</code></p>
          

          
          <div class="method-source-code" id="debug-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">debug</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>); <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">debug</span>(<span class="ruby-identifier">progname</span>,&amp;<span class="ruby-identifier">block</span>); <span class="ruby-keyword">end</span></pre>
          </div><!-- debug-source -->
          
        </div>

        

        
      </div><!-- debug-method -->

    
      <div id="method-i-error" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">error</span><span
            class="method-args">(progname = nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>pass-through to <code>logger.error(progname,&amp;block)</code></p>
          

          
          <div class="method-source-code" id="error-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>); <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">error</span>(<span class="ruby-identifier">progname</span>,&amp;<span class="ruby-identifier">block</span>); <span class="ruby-keyword">end</span></pre>
          </div><!-- error-source -->
          
        </div>

        

        
      </div><!-- error-method -->

    
      <div id="method-i-fatal" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fatal</span><span
            class="method-args">(progname = nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>pass-through to <code>logger.fatal(progname,&amp;block)</code></p>
          

          
          <div class="method-source-code" id="fatal-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fatal</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>); <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">fatal</span>(<span class="ruby-identifier">progname</span>,&amp;<span class="ruby-identifier">block</span>); <span class="ruby-keyword">end</span></pre>
          </div><!-- fatal-source -->
          
        </div>

        

        
      </div><!-- fatal-method -->

    
      <div id="method-i-info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">info</span><span
            class="method-args">(progname = nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>pass-through to <code>logger.info(progname,&amp;block)</code></p>
          

          
          <div class="method-source-code" id="info-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">info</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>); <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span>(<span class="ruby-identifier">progname</span>,&amp;<span class="ruby-identifier">block</span>); <span class="ruby-keyword">end</span></pre>
          </div><!-- info-source -->
          
        </div>

        

        
      </div><!-- info-method -->

    
      <div id="method-i-logger" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">logger</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Access the shared logger.  All classes that include this module will get
the same logger via this method.</p>
          

          
          <div class="method-source-code" id="logger-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logger</span>
  <span class="ruby-identifier">@@logger</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">CLILogger</span>.<span class="ruby-identifier">new</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- logger-source -->
          
        </div>

        

        
      </div><!-- logger-method -->

    
      <div id="method-i-logger-3D" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">logger=</span><span
            class="method-args">(new_logger)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="CLILogging.html#method-i-change_logger">change_logger</a>
        </div>
        
      </div><!-- logger-3D-method -->

    
      <div id="method-i-use_log_level_option" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">use_log_level_option</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Call this <strong>if</strong> you've included <a
href="Main.html">Methadone::Main</a> to set up a <code>--log-level</code>
option for your app that will allow the user to configure the logging
level.</p>

<p>Example:</p>

<pre>main do 
  # your app
end

use_log_level_option

go!</pre>
          

          
          <div class="method-source-code" id="use_log_level_option-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">use_log_level_option</span>
  <span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;--log-level LEVEL&quot;</span>,<span class="ruby-constant">LOG_LEVELS</span>,<span class="ruby-string">'Set the logging level'</span>,
                                    <span class="ruby-string">'('</span> <span class="ruby-operator">+</span> <span class="ruby-constant">LOG_LEVELS</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">'|'</span>) <span class="ruby-operator">+</span> <span class="ruby-string">')'</span>,
                                    <span class="ruby-string">'(Default: info)'</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">level</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@log_level</span> = <span class="ruby-identifier">level</span>
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-identifier">level</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- use_log_level_option-source -->
          
        </div>

        

        
      </div><!-- use_log_level_option-method -->

    
      <div id="method-i-warn" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">warn</span><span
            class="method-args">(progname = nil, &block)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>pass-through to <code>logger.warn(progname,&amp;block)</code></p>
          

          
          <div class="method-source-code" id="warn-source">
            <pre><span class="ruby-comment"># File lib/methadone/cli_logging.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">warn</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>); <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-identifier">progname</span>,&amp;<span class="ruby-identifier">block</span>); <span class="ruby-keyword">end</span></pre>
          </div><!-- warn-source -->
          
        </div>

        

        
      </div><!-- warn-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

