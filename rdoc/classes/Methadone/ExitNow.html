<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Methadone::ExitNow</title>
    <meta http-equiv="Content-Type" content="text/html; charset=ASCII-8BIT" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            Methadone::ExitNow 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/methadone/exit_now_rb.html">lib/methadone/exit_now.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Provides <a href="ExitNow.html#method-i-exit_now-21">#exit_now!</a> and <a
href="ExitNow.html#method-i-help_now-21">#help_now!</a>.  You might mix
this into your business logic classes if they will need to exit the program
with a human-readable error message.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-exit_now-21">exit_now!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-help_now-21">help_now!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-included">included</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-included">
            
              <a name="method-c-included"></a><b>included</b>(k)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-included_source')" id="l_method-c-included_source">show</a>
                
              </p>
              <div id="method-c-included_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/methadone/exit_now.rb, line 5</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">included</span>(<span class="ruby-identifier">k</span>)
  <span class="ruby-identifier">k</span>.<span class="ruby-identifier">extend</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-exit_now-21">
            
              <a name="method-i-exit_now-21"></a><b>exit_now!</b>(exit_code,message=nil)
            
          </div>
          
          
            <div class="description">
              <p>Call this to exit the program immediately with the given error code and
message.</p>
<dl class="rdoc-list note-list"><dt>exit_code
<dd>
<p>exit status you'd like to exit with</p>
</dd><dt><code>message</code>
<dd>
<p>message to display to the user explaining the problem</p>
</dd></dl>

<p>If <code>exit_code</code> is a String and <code>message</code> is omitted,
<code>exit_code</code> will be used as the message and the actual exit code
will be 1.</p>

<h3 id="method-i-exit_now-21-label-Examples">Examples</h3>

<pre class="ruby"><span class="ruby-identifier">exit_now!</span>(<span class="ruby-value">4</span>,<span class="ruby-string">&quot;Oh noes!&quot;</span>) 
  <span class="ruby-comment"># =&gt; exit app with status 4 and show the user &quot;Oh noes!&quot; on stderr</span>
<span class="ruby-identifier">exit_now!</span>(<span class="ruby-string">&quot;Oh noes!&quot;</span>)   
  <span class="ruby-comment"># =&gt; exit app with status 1 and show the user &quot;Oh noes!&quot; on stderr</span>
<span class="ruby-identifier">exit_now!</span>(<span class="ruby-value">4</span>)            
  <span class="ruby-comment"># =&gt; exit app with status 4 and dont' give the user a message (how rude of you)</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-exit_now-21_source')" id="l_method-i-exit_now-21_source">show</a>
                
              </p>
              <div id="method-i-exit_now-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/methadone/exit_now.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">exit_now!</span>(<span class="ruby-identifier">exit_code</span>,<span class="ruby-identifier">message</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">exit_code</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Methadone</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-number">1</span>,<span class="ruby-identifier">exit_code</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Methadone</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">exit_code</span>,<span class="ruby-identifier">message</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-help_now-21">
            
              <a name="method-i-help_now-21"></a><b>help_now!</b>(message)
            
          </div>
          
          
            <div class="description">
              <p>Exit the program as if the user made an error invoking your app, providing
them the message as well as printing the help.  This is useful if you have
complex UI validation that can't be done by OptionParser.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-help_now-21_source')" id="l_method-i-help_now-21_source">show</a>
                
              </p>
              <div id="method-i-help_now-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/methadone/exit_now.rb, line 36</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">help_now!</span>(<span class="ruby-identifier">message</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">message</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    