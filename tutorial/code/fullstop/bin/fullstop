#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'fullstop'

class App
  include Methadone::Main
  include Methadone::CLILogging
  # vvv
  include Methadone::SH
  # ^^^

  #        vvv
  main do |repo_url|
    #      ^^^
    
    # vvv
    Dir.chdir ENV['HOME'] do
      sh "git clone #{repo_url}"
    end
    # ^^^
  end

  version Fullstop::VERSION

  description 'Manages dotfiles from a git repo'

  arg :repo_url

  use_log_level_option

  go!
end
